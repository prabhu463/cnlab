set ns [new Simulator] Letter S is capital
set nf [open PA1.nam w] ; # open a nam trace file in write mode
$ns namtrace-all $nf nf nam filename
set tf [open PA1.tr w] ; # tf trace filename
$ns trace-all $tf
proc finish { } {
global ns nf tf
$ns flush-trace ; # clears trace file contents
close $nf
close $tf

exec nam PA1.nam &amp;
exit 0
}
set n0 [$ns node] ; # creates 3 nodes
set n2 [$ns node]
set n3 [$ns node]
$ns duplex-link $n0 $n2 200Mb 10ms DropTail ;# establishing links
$ns duplex-link $n2 $n3 1Mb 1000ms DropTail
$ns queue-limit $n0 $n2 10
set udp0 [new Agent/UDP] ; # attaching transport layer protocols
$ns attach-agent $n0 $udp0
set cbr0 [new Application/Traffic/CBR] ; # attaching application layer
$cbr0 set packetSize_ 500
$cbr0 set interval_ 0.005
$cbr0 attach-agent $udp0
set null0 [new Agent/Null] ; # creating sink (destination) node
$ns attach-agent $n3 $null0
$nsconnect $udp0 $null0
$ns at 0.1 &quot;$cbr0 start&quot;
$ns at 1.0 &quot;finish&quot;
$ns run

Awk File
BEGIN{ c=0;}
{
if($1==&quot;d&quot;)
{ c++;

printf(&quot;%s\t%s\n&quot;,$5,$11);
}
}
END{ printf(&quot;The number of packets dropped is %d\n&quot;,c); }
